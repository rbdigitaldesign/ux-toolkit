<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ctrl+Toolkit</title>
  <link rel="stylesheet" href="style.css?v=4" />
  <script defer src="search.js"></script>
</head>
<body>
  <header class="hero-banner">
    <div class="container">
      <h1>Ctrl+Toolkit</h1>
      <p>Your shortcut to smarter testing, better design, and stronger student experiences across digital learning.</p>

      <div class="search-wrapper">
        <form id="searchForm" role="search">
          <input type="text" id="searchInput" placeholder="Search tools, methods, tips..." class="hero-search" autocomplete="off" />
          <button type="submit" id="searchButton" class="search-button">🔍</button>
        </form>
        <ul id="searchSuggestions" class="suggestion-list">
          <li>Card sorting</li>
          <li>Usability testing</li>
          <li>Heatmaps</li>
          <li>Jotform</li>
          <li>Typeform</li>
          <li>Hotjar</li>
          <li>Accessibility checklist</li>
          <li>UX for media</li>
          <li>Use in courses</li>
          <li>User personas</li>
        </ul>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="grid-section">
      <a href="methodologies.html" class="card">
        <h2>💡 UX Methods</h2>
        <p>Explore techniques and research frameworks for testing usability and engagement.</p>
      </a>
      <a href="tools.html" class="card">
        <h2>🔧 UX Tools</h2>
        <p>Browse recommended tools for surveys, heatmaps, testing and prototyping.</p>
      </a>
      <a href="resources.html#use-in-courses" class="card">
        <h2>🎓 Use in Courses</h2>
        <p>Design practical learning activities informed by user-centred thinking.</p>
      </a>
      <a href="resources.html#media" class="card">
        <h2>📽️ Media UX Tips</h2>
        <p>Get advice on scripting, layout, timing and visual clarity for educational media.</p>
      </a>
      <a href="personas.html" class="card">
        <h2>🧍‍♀️ User Personas</h2>
        <p>Reference real-world learner personas created by Kelli Knuth to design more inclusive and accessible experiences.</p>
      </a>
    </section>

    <section class="highlight">
      <h3>🎬 Coming Soon: How to run a UX test in Canvas</h3>
      <p>We’re preparing a short walkthrough showing you how to embed and evaluate UX tests directly inside your Canvas modules.</p>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Ctrl+Toolkit · Created by Rich Bartlett</p>
    <img src="au-logo-placeholder.png" alt="Adelaide University logo" />
  </footer>

  <button onclick="scrollToTop()" id="topBtn" title="Go to top">↑ Top</button>

  <script>
    const searchInput = document.getElementById('searchInput');
    const suggestionList = document.getElementById('searchSuggestions');
    const searchForm = document.getElementById('searchForm');
    const topBtn = document.getElementById('topBtn');

    function handleSearch(value) {
      const query = value.toLowerCase().trim();

      if (query.includes('jotform')) {
        window.location.href = 'tools.html#jotform';
      } else if (query.includes('card')) {
        window.location.href = 'methodologies.html#card-sorting';
      } else if (query.includes('usability')) {
        window.location.href = 'methodologies.html#usability-testing';
      } else if (query.includes('tree testing')) {
        window.location.href = 'methodologies.html#tree-testing';
      } else if (query.includes('heatmap') || query.includes('hotjar')) {
        window.location.href = 'tools.html#hotjar';
      } else if (query.includes('accessibility')) {
        window.location.href = 'resources.html#accessibility';
      } else if (query.includes('template')) {
        window.location.href = 'resources.html#templates';
      } else if (query.includes('consent')) {
        window.location.href = 'resources.html#consent';
      } else if (query.includes('survey') || query.includes('typeform') || query.includes('google forms')) {
        window.location.href = 'tools.html#google-forms';
      } else if (query.includes('media')) {
        window.location.href = 'resources.html#media';
      } else if (query.includes('courses')) {
        window.location.href = 'resources.html#use-in-courses';
      } else if (query.includes('personas')) {
        window.location.href = 'personas.html';
      } else {
        alert('Sorry, we couldn’t find a matching tool or method.');
      }
    }

    searchForm.addEventListener('submit', function (e) {
      e.preventDefault();
      handleSearch(searchInput.value);
    });

    searchInput.addEventListener('keydown', function (e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        handleSearch(searchInput.value);
      }
    });

    searchInput.addEventListener('focus', () => {
      suggestionList.classList.add('visible');
    });

    searchInput.addEventListener('input', () => {
      const val = searchInput.value.toLowerCase();
      const options = suggestionList.querySelectorAll('li');
      options.forEach(option => {
        const show = option.textContent.toLowerCase().includes(val);
        option.style.display = show ? 'block' : 'none';
      });
    });

    suggestionList.addEventListener('click', (e) => {
      if (e.target.tagName === 'LI') {
        searchInput.value = e.target.textContent;
        suggestionList.classList.remove('visible');
        handleSearch(e.target.textContent);
      }
    });

    document.addEventListener('click', (e) => {
      if (!searchInput.contains(e.target) && !suggestionList.contains(e.target)) {
        suggestionList.classList.remove('visible');
      }
    });

    window.onscroll = function () {
      topBtn.style.display = (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) ? "block" : "none";
    };

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
  </script>
</body>
</html>
